"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[373],{8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>l});var i=n(6540);const r={},o=i.createContext(r);function t(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:s},e.children)}},8932:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module1-ros/intro-to-ros","title":"Introduction to ROS 2","description":"The Robot Operating System (ROS) is a flexible framework for writing robot software. It is a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robotic platforms. ROS 2 is the latest iteration of this framework, re-architected to address the limitations of ROS 1, particularly in areas like real-time control, multi-robot systems, and embedded platforms.","source":"@site/docs/module1-ros/intro-to-ros.md","sourceDirName":"module1-ros","slug":"/module1-ros/intro-to-ros","permalink":"/ur/docs/module1-ros/intro-to-ros","draft":false,"unlisted":false,"editUrl":"https://github.com/nahead/Physical-AI-Humanoid-Robotics-book/tree/main/docs/module1-ros/intro-to-ros.md","tags":[],"version":"current","frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"Understanding URDF (Unified Robot Description Format) for Humanoids","permalink":"/ur/docs/module1-ros/urdf-humanoids"},"next":{"title":"Module 2: Simulation","permalink":"/ur/docs/category/module-2-simulation"}}');var r=n(4848),o=n(8453);const t={},l="Introduction to ROS 2",a={},c=[{value:"Concepts",id:"concepts",level:2},{value:"What is ROS 2?",id:"what-is-ros-2",level:3},{value:"Why ROS 2?",id:"why-ros-2",level:3},{value:"Working Code Examples",id:"working-code-examples",level:2},{value:"Example 1: Basic ROS 2 Publisher and Subscriber (Python)",id:"example-1-basic-ros-2-publisher-and-subscriber-python",level:3},{value:"Publisher (<code>simple_publisher.py</code>)",id:"publisher-simple_publisherpy",level:4},{value:"Subscriber (<code>simple_subscriber.py</code>)",id:"subscriber-simple_subscriberpy",level:4},{value:"How to Run",id:"how-to-run",level:3},{value:"Exercises",id:"exercises",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"})}),"\n",(0,r.jsx)(s.p,{children:"The Robot Operating System (ROS) is a flexible framework for writing robot software. It is a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robotic platforms. ROS 2 is the latest iteration of this framework, re-architected to address the limitations of ROS 1, particularly in areas like real-time control, multi-robot systems, and embedded platforms."}),"\n",(0,r.jsx)(s.h2,{id:"concepts",children:"Concepts"}),"\n",(0,r.jsx)(s.h3,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 is not an operating system in the traditional sense (like Windows, macOS, or Linux). Instead, it's a meta-operating system for robots. It provides services that are typically expected from an operating system, including hardware abstraction, low-level device control, implementation of common functionality, message-passing between processes, and package management. It also provides tools and libraries for obtaining, building, writing, and running code across multiple computers."}),"\n",(0,r.jsx)(s.p,{children:"Key features of ROS 2 include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Distributed System:"})," ROS 2 is built on a Data Distribution Service (DDS) layer, enabling direct communication between nodes without a central master. This enhances reliability, scalability, and real-time capabilities."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Real-time Communication:"})," Designed to meet the demands of real-time control systems, crucial for applications like autonomous driving and industrial automation."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Multi-Robot Support:"})," Improved mechanisms for managing and coordinating multiple robots."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Platform Agnostic:"})," Supports various operating systems, including Linux, Windows, macOS, and embedded systems."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Quality of Service (QoS):"})," Configurable parameters for reliability, durability, and latency of message passing."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"why-ros-2",children:"Why ROS 2?"}),"\n",(0,r.jsx)(s.p,{children:"Robotics development is inherently complex due to the interdisciplinary nature of the field, combining hardware, software, sensing, and control. ROS 2 helps manage this complexity by:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Modular Design:"})," Breaking down robot functionalities into smaller, manageable units (nodes) that communicate via message passing."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Code Reusability:"})," Providing a vast collection of existing libraries and tools for common robotics tasks (e.g., navigation, perception, manipulation)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Hardware Abstraction:"})," Offering a standardized interface to interact with diverse robot hardware, allowing developers to focus on high-level algorithms."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Community Support:"})," Backed by a large and active global community that contributes, supports, and maintains the ecosystem."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"working-code-examples",children:"Working Code Examples"}),"\n",(0,r.jsx)(s.h3,{id:"example-1-basic-ros-2-publisher-and-subscriber-python",children:"Example 1: Basic ROS 2 Publisher and Subscriber (Python)"}),"\n",(0,r.jsx)(s.p,{children:"This example demonstrates the fundamental communication pattern in ROS 2: a publisher node sending messages and a subscriber node receiving them."}),"\n",(0,r.jsxs)(s.h4,{id:"publisher-simple_publisherpy",children:["Publisher (",(0,r.jsx)(s.code,{children:"simple_publisher.py"}),")"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass SimplePublisher(Node):\n\n    def __init__(self):\n        super().__init__('simple_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello ROS 2! Count: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    simple_publisher = SimplePublisher()\n    rclpy.spin(simple_publisher)\n    simple_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsxs)(s.h4,{id:"subscriber-simple_subscriberpy",children:["Subscriber (",(0,r.jsx)(s.code,{children:"simple_subscriber.py"}),")"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass SimpleSubscriber(Node):\n\n    def __init__(self):\n        super().__init__('simple_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    simple_subscriber = SimpleSubscriber()\n    rclpy.spin(simple_subscriber)\n    simple_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(s.h3,{id:"how-to-run",children:"How to Run"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Create a ROS 2 Workspace:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mkdir -p ros2_ws/src\ncd ros2_ws/src\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Create a Python Package:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_python my_ros2_package\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Place Code:"})," Save ",(0,r.jsx)(s.code,{children:"simple_publisher.py"})," and ",(0,r.jsx)(s.code,{children:"simple_subscriber.py"})," inside ",(0,r.jsx)(s.code,{children:"ros2_ws/src/my_ros2_package/my_ros2_package/"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsxs)(s.strong,{children:["Update ",(0,r.jsx)(s.code,{children:"setup.py"})," and ",(0,r.jsx)(s.code,{children:"package.xml"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.code,{children:"ros2_ws/src/my_ros2_package/setup.py"}),", add the entry points for your scripts:","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"entry_points={\n    'console_scripts': [\n        'simple_publisher = my_ros2_package.simple_publisher:main',\n        'simple_subscriber = my_ros2_package.simple_subscriber:main',\n    ],\n},\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.code,{children:"ros2_ws/src/my_ros2_package/package.xml"}),", ensure ",(0,r.jsx)(s.code,{children:"rclpy"})," and ",(0,r.jsx)(s.code,{children:"std_msgs"})," dependencies are listed:","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:"<exec_depend>rclpy</exec_depend>\n<exec_depend>std_msgs</exec_depend>\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Build the Workspace:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd ros2_ws\ncolcon build\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Source the Workspace:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Run the Nodes:"}),"\nOpen two separate terminals, source the workspace in both, and run:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Terminal 1 (Publisher): ",(0,r.jsx)(s.code,{children:"ros2 run my_ros2_package simple_publisher"})]}),"\n",(0,r.jsxs)(s.li,{children:["Terminal 2 (Subscriber): ",(0,r.jsx)(s.code,{children:"ros2 run my_ros2_package simple_subscriber"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"exercises",children:"Exercises"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Modify the ",(0,r.jsx)(s.code,{children:"simple_publisher.py"})," to publish a different type of message (e.g., ",(0,r.jsx)(s.code,{children:"Int32"})," from ",(0,r.jsx)(s.code,{children:"std_msgs.msg"}),"). You'll need to adapt the subscriber accordingly."]}),"\n",(0,r.jsxs)(s.li,{children:["Experiment with the ",(0,r.jsx)(s.code,{children:"timer_period"})," in the publisher. How does changing it affect the subscriber's output rate?"]}),"\n",(0,r.jsxs)(s.li,{children:["Introduce an error in the ",(0,r.jsx)(s.code,{children:"simple_subscriber.py"})," (e.g., misspell the topic name). Observe the output and understand how ROS 2 handles such discrepancies."]}),"\n",(0,r.jsxs)(s.li,{children:["Research and explain the purpose of the ",(0,r.jsx)(s.code,{children:"10"})," in ",(0,r.jsx)(s.code,{children:"self.create_publisher(String, 'topic', 10)"})," and ",(0,r.jsx)(s.code,{children:"self.create_subscription(String, 'topic', self.listener_callback, 10)"}),". (Hint: Quality of Service settings)."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(s.p,{children:"This chapter provided a foundational understanding of ROS 2, its core concepts, and its importance in modern robotics. Through a hands-on example of a publisher-subscriber system, you've seen how ROS 2 nodes communicate, forming the building blocks of complex robotic applications. The exercises encouraged further exploration into message types, communication patterns, and Quality of Service, setting the stage for deeper dives into specific ROS 2 functionalities."})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);