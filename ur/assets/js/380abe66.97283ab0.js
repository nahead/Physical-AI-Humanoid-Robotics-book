"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[216],{3348:(e,a,n)=>{n.r(a),n.d(a,{default:()=>h});var s=n(6540),r=n(2228),t=n(7343);const i="loginContainer_jyGX",l="authForm_O9cb",o="toggleButton_cxgN",u="errorText_wfZv",c="messageText_uroA";var d=n(4848);const g=()=>{const{user:e,supabase:a}=(0,t.A)(),[n,r]=(0,s.useState)(!0),[g,h]=(0,s.useState)(""),[p,v]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[j,w]=(0,s.useState)("beginner"),[b,f]=(0,s.useState)("beginner"),[S,y]=(0,s.useState)(""),[C,N]=(0,s.useState)("");return e?(0,d.jsx)("div",{className:i,children:(0,d.jsxs)("h1",{children:["You are already logged in as ",e.email]})}):(0,d.jsx)("div",{className:i,children:(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("h2",{children:n?"Login":"Sign Up"}),S&&(0,d.jsx)("p",{className:u,children:S}),C&&(0,d.jsx)("p",{className:c,children:C}),(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y(""),N(""),a)if(n){const{error:e}=await a.auth.signInWithPassword({email:g,password:p});e?y(e.message):N("Logged in successfully!")}else{if(!x)return void y("Full name is required for registration.");const{error:e}=await a.auth.signUp({email:g,password:p,options:{data:{full_name:x,software_background:j,hardware_background:b}}});e?y(e.message):N("Registration successful! Please check your email to confirm.")}else y("Authentication service is not available.")},children:[!n&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{type:"text",placeholder:"Full Name",value:x,onChange:e=>m(e.target.value),required:!0}),(0,d.jsxs)("select",{value:j,onChange:e=>w(e.target.value),children:[(0,d.jsx)("option",{value:"beginner",children:"Software: Beginner"}),(0,d.jsx)("option",{value:"intermediate",children:"Software: Intermediate"}),(0,d.jsx)("option",{value:"advanced",children:"Software: Advanced"})]}),(0,d.jsxs)("select",{value:b,onChange:e=>f(e.target.value),children:[(0,d.jsx)("option",{value:"beginner",children:"Hardware: Beginner"}),(0,d.jsx)("option",{value:"intermediate",children:"Hardware: Intermediate"}),(0,d.jsx)("option",{value:"advanced",children:"Hardware: Advanced"})]})]}),(0,d.jsx)("input",{type:"email",placeholder:"Email",value:g,onChange:e=>h(e.target.value),required:!0}),(0,d.jsx)("input",{type:"password",placeholder:"Password",value:p,onChange:e=>v(e.target.value),required:!0}),(0,d.jsx)("button",{type:"submit",children:n?"Login":"Sign Up"})]}),(0,d.jsx)("button",{className:o,onClick:()=>{r(!n),y(""),N("")},children:n?"Need an account? Sign Up":"Have an account? Login"})]})})},h=()=>(0,d.jsx)(r.A,{title:"Login",children:(0,d.jsx)(t.O,{children:(0,d.jsx)(g,{})})})}}]);